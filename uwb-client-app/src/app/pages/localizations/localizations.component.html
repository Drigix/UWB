<div class="single_map_with_navbar">
  <div class="grid align-items-end">
    <uwb-single-select
      class="col-11"
      [items]="backgrounds"
      optionLabel="name"
      label="{{ 'localization.backgrounds' | translate }}"
      (modelChange)="onBackgroundSelect($event)"
      [itemTemplate]="itemTemplate"
    >
      <ng-template #itemTemplate let-item="item" pTemplate="item">
        <div class="flex align-items-center" pTooltip="{{ item.name }}">
          <img [src]="item.path" style="height: 30px" />
          {{ item.name }}
        </div>
      </ng-template>
    </uwb-single-select>
    <div class="col-1 flex justify-content-center">
      <p-button icon="pi pi-cog" [disabled]="selectedBackground === undefined" pTooltip="{{ 'localization.details.mapOptions' | translate }}" (onClick)="ol.toogleOverlay($event)"></p-button>
    </div>
  </div>
  <uwb-map [background]="selectedBackground?.path!" [localizations]="localizations" [anchors]="anchors"></uwb-map>
</div>

<uwb-overlay #ol>
  <div class="grid justify-content-center align-items-center" style="width: 300px;">
    <span class="clas-6 p-2 pb-0 flex align-items-center">
      <label class="mr-1">{{ 'localization.overlay.showAnchors' | translate }}</label>
      <p-checkbox [(ngModel)]="showAnchors" [binary]="true" inputId="binary" (onChange)="onShowAnchorsChange($event)"></p-checkbox>
    </span>
    <span class="clas-6 p-2 pb-0 flex align-items-center">
      <label class="mr-1">{{ 'localization.overlay.showAreas' | translate }}</label>
      <p-checkbox [(ngModel)]="showAreas" [binary]="true" inputId="binary" (onChange)="onShowAreasChange($event)"></p-checkbox>
    </span>
    <uwb-single-select
        class="col-12 p-0"
        [showClear]="false"
        [items]="localizationObjects"
        optionLabel="name"
        label="{{ 'localization.objects' | translate }}"
        (modelChange)="onObjectChange($event)"
      >
      </uwb-single-select>
    <uwb-single-select
        class="col-12 p-0"
        [showClear]="false"
        [items]="anchors"
        optionLabel="name"
        label="{{ 'localization.anchors' | translate }}"
        (modelChange)="onAnchorChange($event)"
      >
      </uwb-single-select>
      <uwb-single-select
        class="col-12 p-0"
        [showClear]="false"
        [items]="areas"
        optionLabel="name"
        label="{{ 'localization.areas' | translate }}"
        (modelChange)="onAreaChange($event)"
      >
      </uwb-single-select>
  </div>
</uwb-overlay>
